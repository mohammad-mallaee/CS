\documentclass[]{exam}
\usepackage{hyperref}
\usepackage[a4paper, total={6in, 10in}]{geometry}
\usepackage{caption}
\usepackage{algpseudocodex}
\usepackage{algorithm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xepersian}
\usepackage{graphicx}
\usepackage{setspace}
\usepackage{subfiles}
\usepackage{xcolor}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{mathrsfs}
\usepackage{tikz}

\usepackage[tableaux]{prooftrees}
\renewcommand*\linenumberstyle[1]{(#1)}
\newcommand*{\lif}{\ensuremath{\mathbin{\rightarrow}}}
\settextfont{XB Niloofar}
\begin{document}

\forestset{%
    vertical/.style={ %define style for phantom node
            %with vertical edge drawn from it
            before drawing tree={not ignore edge, edge=draw},
        },
}

\begin{tableau}
    {line no sep= 1.5cm,
        just sep= 1.5cm,
        for tree={s sep'=10mm},
    }
    [{\forall x \: (A(x) \lif B(x)) \vdash \forall x \: A(x) \lif \forall x \: B(x)}, just={ریشه}
            [{\neg (\forall x \: A(x) \lif \forall x \: B(x))}, just={ریشه}
                    [{\forall x \: A(x)}, just={2 F \lif}
                            [{\neg \forall x \: B(x)}, just={2 F \lif}
                                    [{\neg B(a_1)}, just={$a_1 \in C$ جدید ,
                                    4 F $\forall$}
                                            [{A(a_1)}, just={From (3 T $\forall$)}
                                                [{A(a_1) \lif B(a_1)}, just={1 T $\forall$}
                                                    [{\neg A(a_1)}, close={۶ و ۸}]
                                                    [{B(a_1)}, just={7 F \lif}, close={۵ و ۸}]
                                                ]
                                            ]
                                    ]
                            ]
                    ]]]
\end{tableau}

\end{document}